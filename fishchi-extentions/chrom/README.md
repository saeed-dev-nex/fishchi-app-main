# فیشچی - اکستنشن Chrome

اکستنشن Chrome برای استخراج خودکار منابع تحقیقاتی از سایت‌های ایرانی و ذخیره در فیشچی.

## ویژگی‌ها

- ✅ استخراج خودکار اطلاعات از سایت‌های SID، Civilica و Noormags
- ✅ رابط کاربری مدرن و زیبا
- ✅ احراز هویت خودکار
- ✅ انتخاب پروژه برای ذخیره منبع
- ✅ پشتیبانی از RTL و زبان فارسی

## سایت‌های پشتیبانی شده

- **SID.ir** - پایگاه اطلاعات علمی ایران
- **Civilica.com** - سیویلیکا
- **Noormags.ir** - نورمگز

## نصب

### روش 1: نصب از Chrome Web Store (در آینده)

اکستنشن در Chrome Web Store منتشر خواهد شد.

### روش 2: نصب دستی (Developer Mode)

1. Chrome را باز کنید و به `chrome://extensions/` بروید
2. گزینه "Developer mode" را فعال کنید
3. روی "Load unpacked" کلیک کنید
4. پوشه `fishchi-extentions/chrom` را انتخاب کنید
5. اکستنشن نصب می‌شود

## استفاده

### مرحله 1: ورود به فیشچی

1. روی آیکون اکستنشن کلیک کنید
2. ایمیل و رمز عبور خود را وارد کنید
3. روی "ورود" کلیک کنید

### مرحله 2: استخراج منبع

1. به یکی از سایت‌های پشتیبانی شده بروید
2. صفحه مقاله/منبع را باز کنید
3. روی آیکون اکستنشن کلیک کنید
4. اطلاعات منبع به صورت خودکار استخراج می‌شود
5. پروژه مورد نظر را انتخاب کنید (اختیاری)
6. روی "ذخیره در فیشچی" کلیک کنید

## تنظیمات

### تغییر آدرس سرور

در فایل `background.js` خط زیر را تغییر دهید:

```javascript
const CONFIG = {
  API_BASE_URL: 'http://localhost:5000/api/v1', // آدرس سرور خود را وارد کنید
  // ...
};
```

## ساختار فایل‌ها

```
chrom/
├── manifest.json          # تنظیمات اکستنشن
├── popup.html            # رابط کاربری popup
├── popup.css             # استایل‌های popup
├── popup.js              # منطق popup
├── background.js         # سرویس کار پس‌زمینه
├── content.js            # اسکریپت محتوا
├── content.css           # استایل‌های محتوا
├── images/               # آیکون‌ها
│   ├── icon16.png
│   ├── icon48.png
│   └── icon128.png
└── README.md             # این فایل
```

## توسعه

### افزودن سایت جدید

برای افزودن سایت جدید، در فایل `content.js` بخش `SITE_CONFIGS` را به‌روزرسانی کنید:

```javascript
'example.com': {
    name: 'Example Site',
    selectors: {
        title: 'h1',
        authors: '.author',
        year: '.year',
        // ...
    },
    extractors: {
        title: (element) => element?.textContent?.trim() || null,
        // ...
    }
}
```

### تست

1. اکستنشن را در Developer Mode نصب کنید
2. فایل `test.html` را برای تست عملکرد باز کنید
3. به سایت‌های پشتیبانی شده بروید
4. Console را باز کنید و خطاها را بررسی کنید
5. عملکرد اکستنشن را تست کنید

### عیب‌یابی مشکلات رایج

**خطای HTTP 404 در احراز هویت:**

- آدرس سرور را در `background.js` بررسی کنید: `API_BASE_URL: 'http://localhost:5000/api/v1'`
- مطمئن شوید سرور روی پورت 5000 در حال اجرا است
- مسیرهای API درست است: `/users/login`, `/users/profile`, `/projects`, `/sources`

**خطای CORS:**

- سرور باید اکستنشن‌های Chrome را پشتیبانی کند
- در `app.js` باید `origin.startsWith("chrome-extension://")` باشد

## عیب‌یابی

### مشکلات رایج

1. **اکستنشن کار نمی‌کند**

   - بررسی کنید که Developer Mode فعال باشد
   - Console را بررسی کنید برای خطاها
   - اکستنشن را reload کنید

2. **احراز هویت انجام نمی‌شود**

   - آدرس سرور را بررسی کنید
   - اتصال اینترنت را بررسی کنید
   - اطلاعات ورود را بررسی کنید

3. **اطلاعات استخراج نمی‌شود**
   - صفحه را refresh کنید
   - ساختار صفحه ممکن است تغییر کرده باشد
   - Console را برای خطاها بررسی کنید

## پشتیبانی

برای گزارش مشکل یا پیشنهاد:

- Issue در GitHub ایجاد کنید
- ایمیل: support@fishchi.com

## مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## نسخه‌ها

- **v1.0.0** - نسخه اولیه با پشتیبانی از SID، Civilica و Noormags
